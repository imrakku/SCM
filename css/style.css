/* === MODERN UI OVERHAUL === */

/* --- Base & Typography --- */
body {
    font-family: 'Inter', sans-serif;
    scroll-behavior: smooth;
    background-color: #f9fafb; /* gray-50 (Very light gray/off-white) */
    color: #374151; /* gray-700 (Default text color) */
    line-height: 1.65; /* Slightly more spacious line height */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Header & Navigation --- */
header {
    background-color: #ffffff; /* White header */
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.07), 0 1px 2px -1px rgba(0, 0, 0, 0.05); /* Subtle shadow */
    border-bottom: 1px solid #e5e7eb; /* gray-200 */
}
h1.text-3xl { /* Main title in header */
    color: #1e3a8a; /* blue-800 (Darker, more corporate blue) */
    letter-spacing: -0.025em; /* Slightly tighter for modern headings */
}
.nav-link {
    color: #4b5563; /* gray-600 */
    font-weight: 500;
    padding: 0.625rem 1rem; /* py-2.5 px-4 */
    border-radius: 0.375rem; /* rounded-md */
    transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}
.nav-link:hover {
    color: #2563eb; /* blue-600 */
    background-color: #f0f9ff; /* blue-50 */
}
.nav-active {
    color: #2563eb; /* blue-600 */
    font-weight: 600; /* Semibold */
    background-color: #dbeafe; /* blue-100 */
    box-shadow: inset 0 1px 1px rgba(0,0,0,0.05);
    border-bottom-width: 0; /* Remove bottom border for tab-like active state */
}

/* --- Content Sections --- */
.content-section { display: none; }
.content-section.active { display: block; }

/* --- Card Styling --- */
.card {
    background-color: #ffffff;
    border-radius: 0.75rem; /* rounded-xl */
    border: 1px solid #e5e7eb; /* gray-200 */
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05); /* Softer, layered shadow */
    padding: 2rem 2.5rem; /* More padding */
    margin-bottom: 2.5rem;
}
.card h2 {
    font-size: 2rem; /* Slightly larger */
    font-weight: 700; /* Bold */
    color: #111827; /* gray-900 */
    letter-spacing: -0.025em;
    border-bottom: 1px solid #e5e7eb; /* gray-200 */
    padding-bottom: 0.75rem;
    margin-bottom: 1.5rem;
}
.card h3 {
    font-size: 1.25rem; /* text-xl */
    font-weight: 600;
    color: #1e3a8a; /* blue-800 */
    margin-bottom: 1rem;
}
.card p, .card li {
    color: #4b5563; /* gray-600 */
    font-size: 0.95rem; /* Slightly larger body text in cards */
}
.stat-card {
    background-color: #f9fafb; /* gray-50 */
    padding: 1.5rem;
    border-radius: 0.5rem;
    border: 1px solid #e5e7eb; /* gray-200 */
    box-shadow: none; /* Flatter stat cards */
}
.stat-card h4 {
    color: #4b5563; /* gray-600 */
    font-size: 0.875rem; /* text-sm */
    font-weight: 500;
    margin-bottom: 0.25rem;
}
.stat-card p.text-5xl {
    color: #1d4ed8; /* blue-700 */
    font-weight: 700; /* Bold */
}

/* --- Map Containers --- */
#simulationMap,
#clusteringMapViz,
#optimizationMapViz,
#profileCreationMap,
#scenarioComparisonMap {
    height: 480px; /* Standardized height */
    min-height: 350px;
    border-radius: 0.5rem;
    background-color: #e5e7eb; /* gray-200 */
    border: 1px solid #d1d5db; /* gray-300 */
    width: 100%;
}
#profileCreationMap { height: 320px; min-height: 280px; }

/* --- Buttons --- */
.btn {
    padding: 0.625rem 1.25rem;
    border-radius: 0.375rem;
    font-weight: 500;
    transition: all 0.15s ease-in-out;
    cursor: pointer;
    text-transform: none;
    letter-spacing: normal;
    line-height: 1.5;
    border: 1px solid transparent;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}
.btn:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 3px 5px rgba(0, 0, 0, 0.07);
}
.btn:active:not(:disabled) {
    transform: translateY(0px);
    box-shadow: inset 0 2px 4px 0 rgba(0,0,0,0.05);
}
.btn:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-primary {
    background-color: #2563eb; /* blue-600 */
    border-color: #2563eb;
    color: white;
}
.btn-primary:hover:not(:disabled) {
    background-color: #1d4ed8; /* blue-700 */
    border-color: #1d4ed8;
}

.btn-secondary { /* Light gray button with dark text */
    background-color: #e5e7eb; /* gray-200 */
    border-color: #d1d5db; /* gray-300 */
    color: #1f2937; /* gray-800 */
}
.btn-secondary:hover:not(:disabled) {
    background-color: #d1d5db; /* gray-300 */
    border-color: #9ca3af; /* gray-400 */
}

.btn-danger {
    background-color: #ef4444; /* red-500 */
    border-color: #ef4444;
    color: white;
}
.btn-danger:hover:not(:disabled) {
    background-color: #dc2626; /* red-600 */
    border-color: #dc2626;
}
.btn-sm { padding: 0.5rem 0.875rem; font-size: 0.875rem; }

/* --- Inputs & Forms --- */
.input-group label {
    display: block;
    font-weight: 500;
    color: #374151; /* gray-700 */
    margin-bottom: 0.375rem; /* mb-1.5 */
    font-size: 0.875rem; /* text-sm */
}
.input-group input[type="number"],
.input-group input[type="text"],
.input-group select {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border-radius: 0.375rem;
    border: 1px solid #d1d5db; /* gray-300 */
    background-color: #ffffff;
    color: #111827; /* gray-900 */
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.03);
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}
.input-group input[type="number"]:focus,
.input-group input[type="text"]:focus,
.input-group select:focus {
    border-color: #2563eb; /* blue-600 */
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); /* Lighter, wider ring */
}
.input-group input[type="checkbox"] {
    width: 1.125rem; height: 1.125rem; /* Slightly larger */
    margin-right: 0.5rem;
    accent-color: #2563eb;
    border-radius: 0.25rem;
    border: 1px solid #9ca3af; /* gray-400 */
}
.checkbox-group label, .checkbox-label {
     display: inline-flex; align-items: center; cursor: pointer;
     font-weight: normal; color: #374151; /* gray-700 */
}

/* --- Range Sliders --- */
input[type="range"] {
    height: 6px; /* Even slimmer */
    background: #d1d5db; /* gray-300 */
    border-radius: 3px;
}
input[type="range"]::-webkit-slider-thumb {
    width: 18px; height: 18px;
    background: #2563eb;
    border: 2px solid white; /* Thinner border */
    box-shadow: 0 1px 2px rgba(0,0,0,0.15);
}
input[type="range"]::-moz-range-thumb {
    width: 18px; height: 18px; background: #2563eb; border: 2px solid white;
    box-shadow: 0 1px 2px rgba(0,0,0,0.15);
}
.control-label span { /* Value display for sliders */
    color: #1e3a8a; /* blue-800 */
    font-weight: 600;
}

/* --- Collapsible Details/Summary (User Explanations) --- */
div[role="alert"] { /* The colored box containing the explanation */
    font-size: 0.9rem;
    padding: 1rem;
    border-radius: 0.5rem; /* rounded-lg */
    margin-bottom: 1.5rem;
}
div[role="alert"] details summary {
    font-weight: 600; /* Semibold for summary */
    font-size: 1rem; /* text-base */
    color: inherit; /* Inherit color from parent alert box */
    padding: 0.25rem 0;
    outline: none;
}
div[role="alert"] details summary:hover {
    opacity: 0.8;
}
div[role="alert"] details summary::before {
    content: 'â–º ';
    font-size: 0.75em;
    margin-right: 0.375rem;
    transition: transform 0.2s ease-in-out;
}
div[role="alert"] details[open] > summary::before {
    transform: rotate(90deg);
}
div[role="alert"] details div { /* Content inside details */
    margin-top: 0.75rem;
    padding-left: 1.25rem; /* Indent content */
    border-left: 2px solid rgba(0,0,0,0.1); /* Subtle left border */
    font-size: 0.9rem;
    color: inherit; /* Inherit from parent alert box */
    opacity: 0.9;
}
div[role="alert"] details ul {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
}

/* Specific alert box colors (adjust as needed) */
.bg-blue-50.border-blue-500 { border-left-width: 4px; }
.bg-sky-50.border-sky-500 { border-left-width: 4px; }
.bg-indigo-50.border-indigo-500 { border-left-width: 4px; }
.bg-teal-50.border-teal-500 { border-left-width: 4px; }
.bg-purple-50.border-purple-500 { border-left-width: 4px; }


/* --- Chart Containers --- */
.chart-container, .live-chart-container {
    position: relative;
    margin: 0.5rem 0;
    padding: 1rem;
    background-color: #ffffff;
    border-radius: 0.5rem;
    box-shadow: 0 1px 3px rgba(0,0,0,0.03), 0 1px 2px rgba(0,0,0,0.03); /* Very subtle shadow */
    border: 1px solid #e5e7eb; /* gray-200 */
    height: 320px; /* Consistent height */
}
.live-chart-container { height: 280px; }
.chart-container canvas, .live-chart-container canvas { max-width: 100%; max-height: 100%; }
.live-chart-container h5, .chart-container h4 {
    text-align: center; font-size: 0.875rem; color: #4b5563; /* gray-600 */
    margin-bottom: 0.75rem; font-weight: 500; /* Medium weight */
}
.chart-container h4 { font-size: 1rem; color: #111827; /* gray-900 */ }


/* --- Tables --- */
.comparison-table-container {
    border: 1px solid #e5e7eb; /* gray-200 */
    border-radius: 0.5rem;
    box-shadow: none;
}
.comparison-table th {
    background-color: #f9fafb; /* gray-50 */
    color: #374151; /* gray-700 */
    font-weight: 500; /* Medium */
    border-bottom: 2px solid #e5e7eb; /* gray-200 */
    border-right: 1px solid #e5e7eb;
}
.comparison-table td {
    border: 1px solid #f3f4f6; /* gray-100 */
    color: #4b5563; /* gray-600 */
}
.comparison-table tbody tr:nth-child(even) { background-color: #ffffff; }
.comparison-table tbody tr:hover { background-color: #f0f9ff; /* blue-50 */ }


/* --- Log & List Containers --- */
.log-container, .sector-select-container,
#savedScenariosListContainer, #savedProfilesListContainer {
    border: 1px solid #e5e7eb; /* gray-200 */
    border-radius: 0.375rem; /* rounded-md */
}
.simulation-log {
    background-color: #111827; /* gray-900 */
    color: #d1d5db; /* gray-300 */
    font-size: 0.8rem; /* Slightly smaller for dense logs */
}
.log-message em { color: #9ca3af; /* gray-400 */ }
.log-info { color: #60a5fa; } /* blue-400 */
.log-agent { color: #fcd34d; } /* amber-300 */
.log-order { color: #4ade80; } /* green-400 */
.log-system { color: #a78bfa; } /* violet-400 */
.log-error { color: #fb7185; font-weight: 600;} /* rose-400 */
.log-system-bold { color: #a78bfa; font-weight: 600;}
.log-traffic { color: #818cf8; } /* indigo-400 */
.log-cost { color: #f472b6; } /* pink-400 */


/* --- Footer --- */
footer {
    background-color: #111827; /* gray-900 */
    color: #9ca3af; /* gray-400 */
    padding-top: 3rem; padding-bottom: 3rem;
}
footer p.text-slate-300 { color: #d1d5db; /* gray-300 */ }
#sectorCoordinatesContainer { background-color: #1f2937; /* gray-800 */ }
#sectorCoordinatesList { color: #9ca3af; /* gray-400 */ }

