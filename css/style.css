/* General Body and Font Styles */
body {
    font-family: 'Inter', sans-serif;
    scroll-behavior: smooth;
    background-color: #f1f5f9; /* slate-100 (Light gray background) */
    color: #1e293b; /* slate-800 (Dark gray for primary text) */
    line-height: 1.6;
}

/* Header & Navigation Styles */
header {
    background-color: white; /* Clean white header */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Softer shadow */
}
h1.text-3xl { /* Main title in header */
    color: #1d4ed8; /* Primary Deep Blue */
}
.nav-link {
    color: #334155; /* slate-700 (Darker gray for readability) */
    font-weight: 500; /* Medium weight for nav links */
    padding: 0.5rem 0.75rem; /* Adjust padding for balance */
    border-radius: 0.375rem; /* rounded-md */
    transition: color 0.2s ease-in-out, background-color 0.2s ease-in-out;
}
.nav-link:hover {
    color: #1d4ed8; /* Primary Deep Blue on hover */
    background-color: #eff6ff; /* blue-50 (Very light blue background on hover) */
}
.nav-active {
    color: #1d4ed8; /* Primary Deep Blue for active link */
    font-weight: 700; /* Bold for active link */
    border-bottom-width: 2px; /* Thinner, more subtle active indicator */
    border-color: #1d4ed8;
    background-color: transparent; /* Ensure no background conflicts with border */
}


/* Content Section Visibility */
.content-section {
    display: none;
}
.content-section.active {
    display: block;
}

/* Card Styles */
.card {
    background-color: white;
    border-radius: 0.75rem; /* rounded-xl */
    border: 1px solid #e2e8f0; /* slate-200 (Subtle border) */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); /* Softer, more modern shadow */
    padding: 2rem; /* Adjusted padding */
    margin-bottom: 2rem; /* Adjusted margin */
}
.card h2 { /* Main headings within cards */
    color: #1e293b; /* slate-800 */
    border-bottom-color: #60a5fa; /* blue-400 (Lighter blue for accent border) */
}
.card h3 { /* Sub-headings within cards */
    color: #1d4ed8; /* Primary Deep Blue */
}
.card p, .card li {
    color: #334155; /* slate-700 (Slightly lighter text for paragraphs) */
}
.stat-card {
    background-color: #f8fafc; /* slate-50 (Very light gray) */
    padding: 1.5rem;
    border-radius: 0.5rem; /* rounded-lg */
    border: 1px solid #e2e8f0; /* slate-200 */
    box-shadow: 0 1px 3px rgba(0,0,0,0.03);
}
.stat-card h4 {
    color: #475569; /* slate-600 */
}
.stat-card p.text-5xl { /* Large stat numbers */
    color: #2563eb; /* Primary Blue */
}


/* Map Container Styles */
#simulationMap,
#clusteringMapViz,
#optimizationMapViz,
#profileCreationMap,
#scenarioComparisonMap {
    height: 500px;
    min-height: 400px;
    border-radius: 0.5rem; /* rounded-lg */
    background-color: #e2e8f0; /* slate-200 */
    border: 1px solid #cbd5e1; /* slate-300 */
}
#profileCreationMap {
    height: 300px;
    min-height: 250px;
}

/* Leaflet Popup Styles */
.leaflet-popup-content-wrapper {
    border-radius: 0.375rem; /* rounded-md */
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Button Styles - More Professional & Consistent */
.btn {
    padding: 0.625rem 1.25rem; /* Adjusted padding (10px 20px) */
    border-radius: 0.375rem; /* rounded-md */
    font-weight: 500; /* Medium weight */
    transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out, transform 0.1s ease-out, box-shadow 0.15s ease-in-out;
    cursor: pointer;
    text-transform: none; /* No uppercase for a more modern feel, or keep if preferred */
    letter-spacing: normal; /* Reset letter spacing */
    line-height: 1.5;
    border: 1px solid transparent; /* Base border */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); /* Subtle shadow */
}
.btn:hover:not(:disabled) {
    transform: translateY(-1px); /* Subtle lift */
    box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.07);
}
.btn:active:not(:disabled) {
    transform: translateY(0px);
    box-shadow: inset 0 1px 2px 0 rgba(0,0,0,0.05);
}
.btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.btn-primary {
    background-color: #2563eb; /* blue-600 */
    border-color: #2563eb;
    color: white;
}
.btn-primary:hover:not(:disabled) {
    background-color: #1d4ed8; /* blue-700 */
    border-color: #1d4ed8;
}

.btn-secondary {
    background-color: #475569; /* slate-600 */
    border-color: #475569;
    color: white;
}
.btn-secondary:hover:not(:disabled) {
    background-color: #334155; /* slate-700 */
    border-color: #334155;
}
/* Alternative secondary: Light gray with dark text */
/* .btn-secondary {
    background-color: #e2e8f0; /* slate-200 */
/* border-color: #cbd5e1; /* slate-300 */
/* color: #1e293b; /* slate-800 */
/* }
.btn-secondary:hover:not(:disabled) {
    background-color: #cbd5e1; /* slate-300 */
/* border-color: #94a3b8; /* slate-400 */
/* } */


.btn-danger {
    background-color: #ef4444; /* red-500 */
    border-color: #ef4444;
    color: white;
}
.btn-danger:hover:not(:disabled) {
    background-color: #dc2626; /* red-600 */
    border-color: #dc2626;
}

.btn-sm {
    padding: 0.5rem 1rem; /* 8px 16px */
    font-size: 0.875rem; /* text-sm */
}

/* Scrollbar Styles */
.log-container::-webkit-scrollbar,
.sector-select-container::-webkit-scrollbar,
#savedScenariosListContainer::-webkit-scrollbar,
#savedProfilesListContainer::-webkit-scrollbar {
    width: 6px;
}
.log-container::-webkit-scrollbar-track,
.sector-select-container::-webkit-scrollbar-track,
#savedScenariosListContainer::-webkit-scrollbar-track,
#savedProfilesListContainer::-webkit-scrollbar-track {
    background: #e2e8f0; /* slate-200 */
    border-radius: 10px;
}
.log-container::-webkit-scrollbar-thumb,
.sector-select-container::-webkit-scrollbar-thumb,
#savedScenariosListContainer::-webkit-scrollbar-thumb,
#savedProfilesListContainer::-webkit-scrollbar-thumb {
    background: #94a3b8; /* slate-400 */
    border-radius: 10px;
}
.log-container::-webkit-scrollbar-thumb:hover,
.sector-select-container::-webkit-scrollbar-thumb:hover,
#savedScenariosListContainer::-webkit-scrollbar-thumb:hover,
#savedProfilesListContainer::-webkit-scrollbar-thumb:hover {
    background: #64748b; /* slate-500 */
}

/* Custom Marker Icon Styles (already good, ensure consistency) */
.marker-icon-base {
    display: flex; align-items: center; justify-content: center;
    font-weight: 700;
    font-size: 12px;
    border-radius: 50%;
    width: 28px; height: 28px;
    color: white;
    text-shadow: 0 1px 1px rgba(0,0,0,0.2);
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    border: 2px solid white;
}
.agent-available { background-color: #2563eb; } /* blue-600 */
.agent-busy { background-color: #f59e0b; } /* amber-500 (Warmer than orange for busy) */

/* Star marker for orders (from previous update) - ensure colors are consistent */
.order-star-marker svg text {
    font-family: 'Inter', sans-serif; /* Ensure consistent font */
}

/* Range Input Styles */
input[type="range"] {
    -webkit-appearance: none; appearance: none; width: 100%; height: 8px; /* Slimmer track */
    background: #cbd5e1; /* slate-300 */
    border-radius: 4px; outline: none; cursor: pointer;
    transition: background 0.15s ease-in-out;
}
input[type="range"]:hover {
    background: #94a3b8; /* slate-400 */
}
input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none; appearance: none; width: 20px; height: 20px; /* Slightly smaller thumb */
    background: #2563eb; /* blue-600 */
    border-radius: 50%; cursor: pointer; border: 3px solid white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    transition: transform 0.15s ease-in-out;
}
input[type="range"]::-webkit-slider-thumb:active {
    transform: scale(1.1);
}
input[type="range"]::-moz-range-thumb {
    width: 20px; height: 20px; background: #2563eb;
    border-radius: 50%; cursor: pointer; border: 3px solid white;
    box-shadow: 0 1px 3px rgba(0,0,0,0.2);
}

/* Simulation Controls Grid */
.simulation-controls-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.25rem; /* Slightly reduced gap */
    align-items: flex-start;
}
.control-label {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.375rem; /* mb-1.5 */
}
.control-label label {
    font-weight: 500;
    color: #334155; /* slate-700 */
}
.control-label span { /* The value display next to slider label */
    color: #1d4ed8; /* Primary Deep Blue */
}


/* Input Group Styling */
.input-group {
    margin-bottom: 1rem;
}
.input-group label {
    display: block;
    font-weight: 500;
    color: #334155; /* slate-700 */
    margin-bottom: 0.25rem;
}
.input-group input[type="number"],
.input-group input[type="text"],
.input-group select {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border-radius: 0.375rem; /* rounded-md */
    border: 1px solid #cbd5e1; /* slate-300 */
    box-shadow: inset 0 1px 2px rgba(0,0,0,0.03);
    background-color: white;
    color: #1e293b; /* slate-800 */
}
.input-group input[type="number"]:focus,
.input-group input[type="text"]:focus,
.input-group select:focus {
    border-color: #2563eb; /* blue-600 */
    outline: 2px solid transparent;
    outline-offset: 2px;
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.25); /* Softer ring */
}
.input-group input[type="checkbox"] {
    width: 1rem; height: 1rem; /* Standard size */
    margin-right: 0.5rem;
    accent-color: #2563eb; /* blue-600 */
    border-radius: 0.25rem; /* Slightly rounded checkbox */
    border: 1px solid #94a3b8; /* slate-400 */
}
.checkbox-group label, .checkbox-label {
     display: inline-flex;
     align-items: center;
     cursor: pointer;
     font-weight: normal; /* Normal weight for checkbox labels */
     color: #334155; /* slate-700 */
}


/* Voronoi Path Styles */
.voronoi-cell-path {
    stroke: #06b6d4; /* cyan-500 (Accent color) */
    stroke-width: 1px; /* Thinner for a cleaner look */
    fill: none;
    fill-opacity: 0;
}

/* Stats and Results Containers */
.simulation-stats-container,
.optimization-results-container,
#optimizationComparisonContainer,
#scenarioComparisonResultsContainer {
    background-color: #f0f9ff; /* blue-50 (Very light blue) */
    border: 1px solid #bae6fd; /* blue-200 */
    border-radius: 0.5rem; /* rounded-lg */
    padding: 1.5rem;
    margin-top: 2rem;
}
.simulation-stats-container h4,
.optimization-results-container h4,
#optimizationComparisonContainer h4,
#scenarioComparisonResultsContainer h4 {
    color: #075985; /* sky-700 (Darker blue for heading) */
    margin-bottom: 1rem;
    border-bottom: 1px solid #7dd3fc; /* sky-300 */
    padding-bottom: 0.5rem;
    font-size: 1.25rem; /* text-xl */
    font-weight: 600;
    text-align: center;
}

.simulation-stats-grid,
.optimization-results-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(230px, 1fr)); /* Slightly adjusted minmax */
    gap: 1rem;
}
.simulation-stats-grid p,
.optimization-results-grid p,
.optimization-results-container li {
    background-color: white;
    padding: 0.75rem;
    border-radius: 0.375rem; /* rounded-md */
    border: 1px solid #e2e8f0; /* slate-200 */
    font-size: 0.875rem; /* text-sm */
    color: #334155; /* slate-700 */
}
.simulation-stats-grid strong,
.optimization-results-grid strong,
.optimization-results-container strong {
    color: #1e3a8a; /* blue-800 (Darker blue for strong text) */
    font-weight: 600;
}

/* Log Display Styles */
.optimization-log,
.simulation-log {
    background-color: #0f172a; /* slate-900 (Very dark for logs) */
    color: #cbd5e1; /* slate-300 (Light gray text) */
    padding: 1rem;
    border-radius: 0.375rem; /* rounded-md */
    margin-top: 1rem;
    max-height: 350px;
    overflow-y: auto;
    font-family: 'Menlo', 'Monaco', 'Consolas', "Liberation Mono", "Courier New", monospace;
    font-size: 0.8125rem; /* 13px */
    line-height: 1.5;
}
.log-message { margin-bottom: 0.25rem; }
.log-message em { font-style: normal; color: #94a3b8; /* slate-400 for prefixes */ }
.log-info { color: #60a5fa; } /* blue-400 */
.log-agent { color: #fbbf24; } /* amber-400 */
.log-order { color: #34d399; } /* emerald-400 */
.log-system { color: #a5b4fc; } /* indigo-300 */
.log-error { color: #f87171; font-weight: bold;} /* red-400 */
.log-system-bold { color: #a5b4fc; font-weight: bold;}
.log-traffic { color: #e879f9; } /* fuchsia-400 */
.log-cost { color: #fb7185; } /* rose-400 */


/* Demand Profile Specific Styles */
.profile-zone {
    border: 1px solid #e2e8f0;
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 0.375rem;
    background-color: #f8fafc;
}
.sector-select-container {
    max-height: 150px;
    overflow-y: auto;
    border: 1px solid #cbd5e1; /* slate-300 */
    border-radius: 0.375rem;
    padding: 0.5rem;
    background-color: white;
}
.sector-select-container label {
    display: block;
    margin-bottom: 0.25rem;
    font-weight: normal;
    color: #475569;
}
.sector-select-container label input[type="checkbox"] {
    margin-right: 0.5rem;
}


/* Comparison Table Styles */
.comparison-table-container {
    overflow-x: auto;
    background-color: white;
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
    box-shadow: 0 1px 3px rgba(0,0,0,0.03);
}
.comparison-table {
    width: 100%;
    border-collapse: collapse;
    /* margin-top: 1rem; Removed, container has margin */
    font-size: 0.8125rem; /* 13px for denser tables */
}
.comparison-table th,
.comparison-table td {
    border: 1px solid #e2e8f0; /* slate-200 */
    padding: 0.625rem 0.75rem; /* 10px 12px */
    text-align: left;
    white-space: nowrap;
}
.comparison-table th {
    background-color: #f1f5f9; /* slate-100 */
    color: #1e293b; /* slate-800 */
    font-weight: 600;
    position: sticky;
    top: 0;
    z-index: 10;
}
.comparison-table tbody tr:nth-child(even) {
    background-color: #f8fafc; /* slate-50 */
}
.comparison-table tbody tr:hover {
    background-color: #eff6ff; /* blue-50 */
}

/* Chart Container Styles */
.chart-container {
    margin-top: 1rem;
    padding: 1rem;
    background-color: white;
    border-radius: 0.5rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.04);
    border: 1px solid #e2e8f0;
    min-height: 300px;
}
.live-chart-container {
     margin-top: 1rem;
     padding: 0.75rem;
     background-color: #f8fafc; /* slate-50 */
     border-radius: 0.5rem;
     border: 1px solid #e2e8f0;
     box-shadow: 0 1px 3px rgba(0,0,0,0.03);
     min-height: 250px;
}
.live-chart-container h5, .chart-container h4 {
    text-align: center;
    font-size: 0.875rem; /* text-sm */
    color: #475569; /* slate-600 */
    margin-bottom: 0.75rem; /* Increased margin */
    font-weight: 600;
}
.chart-container h4 {
    font-size: 1rem; /* text-base for main chart titles */
    color: #1e293b; /* slate-800 */
}


/* Saved Scenarios/Profiles List */
#savedScenariosListContainer,
#savedProfilesListContainer {
    max-height: 400px;
    overflow-y: auto;
    background-color: #f8fafc;
    padding: 0.75rem; /* Adjusted padding */
    border-radius: 0.5rem;
    border: 1px solid #e2e8f0;
}
#savedScenariosListContainer li,
#savedProfilesListContainer ul li {
    padding: 0.625rem 0.5rem; /* Adjusted padding */
    border-bottom: 1px solid #e2e8f0;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.15s ease-in-out;
}
 #savedScenariosListContainer li:last-child,
 #savedProfilesListContainer ul li:last-child {
    border-bottom: none;
}
#savedScenariosListContainer li:hover,
#savedProfilesListContainer ul li:hover {
    background-color: #eff6ff; /* blue-50 */
}
#savedScenariosListContainer li input[type="checkbox"] {
    margin-right: 0.75rem;
    accent-color: #2563eb;
    height: 1rem; width: 1rem;
}

/* Cost KPI Grid */
.cost-kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); /* Adjusted minmax */
    gap: 1rem;
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px dashed #cbd5e1;
}
.cost-kpi-grid p {
    background-color: #eff6ff; /* blue-50 */
    border-left: 3px solid #2563eb; /* Primary blue accent */
    padding: 0.75rem;
    border-radius: 0.25rem; /* Slightly less rounded */
    font-size: 0.875rem;
    color: #1e3a8a; /* blue-800 */
}
.cost-kpi-grid strong {
    color: #1e40af; /* blue-700 */
    font-weight: 600;
}

/* Footer Specifics */
footer {
    background-color: #0f172a; /* slate-900 */
    color: #94a3b8; /* slate-400 */
}
footer p.text-slate-300 { color: #cbd5e1; /* slate-300 */ }
#sectorCoordinatesContainer {
    background-color: #1e293b; /* slate-800 */
}
#sectorCoordinatesList {
    color: #94a3b8; /* slate-400 */
}

/* Alert/Info boxes in section descriptions */
div[role="alert"] { /* General styling for the explanation boxes */
    font-size: 0.9rem; /* text-sm for Tailwind */
}
div[role="alert"] p.font-bold {
    font-size: 1rem; /* text-base for Tailwind */
}

